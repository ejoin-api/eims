openapi: 3.0.1
info:
  title: Ejoin EIMS HTTP API
  description: >
    Welcome to the EJOIN EIMS HTTP API documentation.
    
    
    This document provides detailed information for learning, testing, and implementing the Ejoin EIMS HTTP API.


    # Overview

     This document outlines the EIMS HTTP SMS API, covering functions such as sending SMS messages, querying received messages, and obtaining user status reports—all operations achievable through a single request.


     This API is based on the HTTP protocol, supports GET and POST requests, and handles multi-tasking and status updates via JSON arrays.


     The HTTP message body consists of one or more JSON-formatted strings. 
     
     
     **The HTTP header parameter “Content-Type” must be set to “application/json;charset=utf-8”.**


     # Getting Started

     Two key parameters are required for device communication:

     **IP: The public network address of the EIMS server**

     **The default port for the EIMS HTTP API is 20003**
     
     <span style="text-decoration: underline;font-weight: bold;font-style: italic;color: red">Note: The `Password` parameter in the EIMS API has two scenarios:
     - 1. When the server does not encrypt, it is a plaintext password.
     - 2. When the server encrypts, it is an MD5-hashed password.</span>
     
     
     <span style="text-decoration: underline;font-weight: bold;font-style: italic;color: red">The MD5 value is calculated as: md5(username + plaintext password + seq + time + negotiated key).
     The negotiated key is provided by the server.</span>

     When calling the API, the complete request URL must include the values for these parameters.
  version: 3.8.0
  x-logo:
    url: ./EAPI-logo.png
    backgroundColor: '#FAFAFA'
    altText: SMS logo
paths:
  http://ip:20003/getbalance:
    get:
      summary: Get balance
      deprecated: false
      description: Obtain the balance of the corresponding account in the system 
      parameters:
        - name: version
          in: query
          description: Protocol version number
          schema:
            type: string
            default: '1.0'
        - name: account
          in: query
          description: Account
          required: true
          schema:
            type: string
        - name: password
          in: query
          description: Password
          required: true
          schema:
            type: string
        - name: seq
          in: query
          description: >-
            Serial number，increments per request，the initial value is 1.
           
           
            **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: time
          in: query
          description: The timestamp form which the request was mode. 
          
          
            **Must be filled when the server requires encryption**
          schema:
            type: string
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - balance
                  - gift
                properties:
                   status:
                     type: int
                     description: >-
                       Query status
                        - 0：query success
                        - 1：authentication error
                        - 2：Ip limited access
                   balance:
                     type: string
                     description: The balance of the actual account
                   gift:
                     type: string
                     description: Complimentary account balance
              examples:
                '1':
                  summary: Successful instance
                  value:
                    status: 0
                    balance: 99.990000
                    gift: 50.00000
          headers: {}
      security: []

  http://ip:20003/sendsms:
    get:
      summary: Send SMS
      deprecated: false
      description: >-
         Supports HTTP GET or POST methods for submitting SMS messages. 
         GET submissions support <span style="color: red;font-weight: bold">up to 100 phone numbers per request</span>
         
         
         After successfully submitting the SMS, the system will generate an ID for the successful number. Customers can later use this ID to check the delivery status of the message.
        
      parameters:
        - name: version
          in: query
          description: Protocol version number
          
          schema:
            type: string
            default: '1.0'
        - name: account
          in: query
          description: Account
          required: true
          schema:
            type: string
        - name: password
          in: query
          description: Password
          required: true
          schema:
            type: string
        - name: seq
          in: query
          description: >-
            Serial number，increments per request，the initial value is 1.
            
            
            **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: time
          in: query
          description: The timestamp form which the request was mode. 
          
          
            **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: smstype
          in: query
          description: >-
            Sms type
             - 0: SMS
             - 1: MMS
          schema:
            type: int
            default: 0
        - name: mmstitle
          in: query
          description: MMS Title **(URL-encoded for GET requests)**
          schema:
            type: string
        - name: sender
          in: query
          description: Sender
          schema:
            type: string
        - name: numbers
          in: query
          description: SMS receiving number,**separated by English comma between multiple Numbers(up to 100)**
          required: true
          schema:
            type: string
        - name: content
          in: query
          required: true
          description: >-
            Send content **(URL-encoded for GET requests)** 
            
            
            <span style="color: red;font-weight: bold">The length should not exceed 1024</span>
          schema:
            type: string
        - name: sendtime
          in: query
          description: >-
            Timed delivery time **(empty is immediately sent)**
            
            
            For example : 20171001123015,which means october 1,2017,12:30 minutes and 15 seconds
          schema:
            type: string(14)
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - success
                  - fail
                  - array
                properties:
                   status:
                     type: int
                     description: >-
                       Send submission status
                        - 0:query success
                        - 1:authentication error
                        - 2:Ip limited access
                        - 3:SMS contain sensitive characters
                        - 4:SMS contain is empty
                        - 5:SMS contain is too long
                        - 6:Not a template SMS
                        - 7:Over number
                        - 8:number is empty
                        - 9:Abnormal number
                        - 10:The channel balance is insufficient to satisfy this transmission
                        - 11:The time is wrong
                        - 12:Because of the platform, batch commit error,please contact the administrator
                        - 13:User locked
                   success:
                     type: int
                     description: The number of successful submissions
                   fail:
                     type: int
                     description: The number of failure submissionss
                   billcnt:
                     type: int
                     description: The number of billing statements successfully submitted
                   array:
                     type: array
                     description: >-
                       The array of successful sms submission
                       
                       
                       The array contains the “number and number of the sending result query ID”,which is numeric characters
                       
                       
                       The array field may include billing debug information only if the configuration parameter EIMS_HTTP_GET_BILL_CNT is set to 1. By default, this feature is disabled.
              examples:
                '1':
                  summary: Successful instance
                  value:
                    status: 0
                    success: 2
                    billcnt: 2
                    array:
                      - - 1008611
                        - 1
                      - - 10010
                        - 2
          headers: {}
      security: []

  http://IP:20003/sendsms:
    post:
      summary: Send SMS
      deprecated: false
      description: >
         Supports HTTP GET or POST methods for submitting SMS messages. The POST method allows submitting up to 10,000 phone numbers at once.


         HTTP POST Method Call: (Note: All parameters must be placed in the request body in JSON format)
         
         
         Using the `smsarray` array, you can submit multiple numbers simultaneously and send different SMS content.
         
         
         After successfully submitting the SMS, the system will generate an ID for the successful number. Customers can later use this ID to check the delivery status of the message.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
                - account
                - password
              properties:
                version:
                  type: string
                  description: Protocol version number
                  default: '1.0'
                account:
                  type: string
                  description: Account
                password:
                  type: string
                  description: Password
                seq:
                  type: int
                  description: >-
                    Serial number，increments per request，the initial value is 1.
            
            
                     **Must be filled when the server requires encryption**
                time:
                  type: int
                  description: >-
                    The timestamp form which the request was mode
                    
                    
                      **Must be filled when the server requires encryption**
                smstype:
                  type: int
                  default: 0
                  description: >-
                     Sms type:
                      - 0: SMS
                      - 1: MMS
                mmstitle:
                  type: string
                  description: MMS Title **(URL-encoded for GET requests)**
                sender:
                  type: string
                  description: Sender
                numbers:
                  type: array
                  description: >-
                    SMS receiving number,**separated by English comma between multiple Numbers(up to 100)**,
                    <span style="color: red;font-weight: bold">cannot coexist with the smsarray parameter</span>
                content: 
                  type: string
                  description: >-
                    Send content **(URL-encoded for GET requests)**, <span style="color: red;font-weight: bold">cannot coexist with the smsarray parameter</span>
            
            
                     <span style="color: red;font-weight: bold">The length should not exceed 1024</span>
                sendtime:
                  type: string
                  description: >-
                     Timed delivery time **(empty is immediately sent)**, <span style="color: red;font-weight: bold">cannot coexist with the smsarray parameter</span>
            
            
                       For example : 20171001123015,which means october 1,2017,12:30 minutes and 15 seconds
                smsarray:
                  type: array
                  description: An array providing multiple numbers and multiple contents at once
                  items: 
                    required:
                      - content
                      - numbers
                    properties:
                      smstype:
                        type: int
                        default: 0
                        description: >-
                          Sms type:
                           - 0:SMS
                           - 1:MMS
                      mmstitle:
                        type: string
                        description: MMS Title **(URL-encoded for GET requests)**
                      sender:
                        type: string
                        description: Sender
                      numbers:
                        type: string
                        description: SMS receiving number,**separated by English comma between multiple Numbers**
                      content: 
                        type: string
                        description: >-
                          Send content **(URL-encoded for GET requests)**
                          
                          
                          <span style="color: red;font-weight: bold">The length should not exceed 1024</span>
                      sendtime:
                        type: string(14)
                        description: Timed delivery time **(empty is immediately sent)**
                     
            example: 
              account: chenck
              password: 123456
              smsarray:
                - content: content1
                  smstype: 0
                  numbers: 10086
                  sender: ""
                - content : content2
                  smstype: 0
                  numbers: 12345
                  sender: ""
                  
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - success
                  - fail
                  - array
                properties:
                   status:
                     type: int
                     description: >-
                       Send submission status
                        - 0:query success
                        - 1:authentication error
                        - 2:Ip limited access
                        - 3:SMS contain sensitive characters
                        - 4:SMS contain is empty
                        - 5:SMS contain is too long
                        - 6:Not a template SMS
                        - 7:Over number
                        - 8:number is empty
                        - 9:Abnormal number
                        - 10:The channel balance is insufficient to satisfy this transmission
                        - 11:The time is wrong
                        - 12:Because of the platform, batch commit error,please contact the administrator
                        - 13:User locked
                   success:
                     type: int
                     description: The number of successful submissions
                   fail:
                     type: int
                     description: The number of failure submissionss
                   billcnt:
                     type: int
                     description: The number of billing statements successfully submitted
                   array:
                     type: array
                     description: >-
                       The array of successful sms submission
                       
                       
                       The array contains the “number and number of the sending result query ID”,which is numeric characters
                       
                       
                       The array field may include billing debug information only if the configuration parameter EIMS_HTTP_GET_BILL_CNT is set to 1. By default, this feature is disabled.
              examples:
                '1':
                  summary: Successful instance
                  value:
                    status: 0
                    success: 2
                    billcnt: 2
                    array:
                      - - 1008611
                        - 1
                      - - 10010
                        - 2
          headers: {}
      security: []
  http://ip:20003/sendmms:
    post:
      summary: Send MMS
      deprecated: false
      description: |
         Submit using multiple forms. The first form is named `mms_body`. Its content format matches the SMS submission format above. Place the JSON content in the first form named `mms_body`, using the `smsarray` array format. Parameters follow the `sendsms` format described above
         
         
         Subsequent forms contain MMS attachments. Attachment filenames should omit directories and follow the simple format ‘name.extension’. The reply format mirrors the sendSMS reply format
      
         ![sendmms](./sendmms.png)
              
      requestBody:
        content:
          multipart/form-data:
            example:
              {"account":"test", "password":"123456", "smsarray":[{"numbers":"10001", "content":"hello"}], "version":"1.0", "time":1751818683402}
            schema:
              type: object
              properties:
                mms_body:
                  type: string
                  description: >-
                    `mmsbody` must be the first element in the form. 
                    
                    
                    The content format remains consistent with the SMS submission method described above, using JSON format and presented as an array named `smsarray` within the `mms_body` form:
                      - account, string: Account
                      - password, string: Password
                      - seq, int: Serial number: incrementing per request. The initial value is 1. **Must be filled when the server requires encryption**
                      - time, int: The timestamp of the request initiation. **Must be filled when the server requires encryption**
                      - version, string: Protocal version number, default: 1.0
                      - smsarray, array, properties: mmstitle(string), sender(string), numbers(string,**required**), content(string,**required**), sendtime(string)
                      
                filename.extension:
                  description: Subsequent form fields represent MMS attachments. Attachment names should be simple, without directory paths—use only the format  `filename.extension`
                  type: file   
        
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - success
                  - fail
                  - array
                properties:
                   status:
                     type: int
                     description: >-
                       Send submission status
                        - 0:query success
                        - 1:authentication error
                        - 2:Ip limited access
                        - 3:SMS contain sensitive characters
                        - 4:SMS contain is empty
                        - 5:SMS contain is too long
                        - 6:Not a template SMS
                        - 7:Over number
                        - 8:number is empty
                        - 9:Abnormal number
                        - 10:The channel balance is insufficient to satisfy this transmission
                        - 11:The time is wrong
                        - 12:Because of the platform, batch commit error,please contact the administrator
                        - 13:User locked
                   success:
                     type: int
                     description: The number of successful submissions
                   fail:
                     type: int
                     description: The number of failure submissionss
                   billcnt:
                     type: int
                     description: The number of billing statements successfully submitted
                   array:
                     type: array
                     description: >-
                       The array of successful sms submission
                       
                       
                       The array contains the “number and number of the sending result query ID”,which is numeric characters
                       
                       
                       The array field may include billing debug information only if the configuration parameter EIMS_HTTP_GET_BILL_CNT is set to 1. By default, this feature is disabled.
              examples:
                '1':
                  summary: Successful instance
                  value:
                    status: 0
                    success: 2
                    billcnt: 2
                    array:
                      - - 1008611
                        - 1
                      - - 10010
                        - 2
          headers: {}
      security: []
  http://ip:20003/getreport:
    get:
      summary: Get Report
      deprecated: false
      description: >-
        Supports querying SMS delivery status via HTTP GET requests. A single GET request can submit up to 200 mobile numbers
        
        
        **Users can query the delivery result of a message using the unique ID generated by the system after successful submission.**
        
        
        Note:A new delivery report retrieval feature has been added. This feature can be disabled by modifying the EIMS_HTTP_GET_DELIVER_REPORT setting in the configuration file.
      parameters:
        - name: version
          in: query
          description: Protocol version number
          
          schema:
            type: string
            default: '1.0'
        - name: account
          in: query
          description: Account
          required: true
          schema:
            type: string
        - name: password
          in: query
          description: Password
          required: true
          schema:
            type: string
        - name: seq
          in: query
          description: >-
            Serial number，increments per request，the initial value is 1.
           
           
            **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: time
          in: query
          description: >-
             The timestamp form which the request was mode. 
          
          
              **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: ids
          in: query
          required: true
          description: >-
             Specify the SMS id of the query sending result **(the id is returned by the system at the time of submission)**, and multiple Numbers are separated by English commas **(up to 200)**
          schema:
            type: string
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - success
                  - fail
                  - unsent
                  - sending
                  - notfound
                  - array
                properties:
                   status:
                     type: int
                     description: >-
                        Send submission status, code and details:
                         - 0: Success
                         - 1001: NoRoute
                         - 1002: NoChannel
                         - 1003: NoBalance
                         - 1004: Unknown
                         - 1005: Send Refuse
                         - 1006: Send Timeout
                         - 1007: Server Timeout
                         - 1008: SupplierMccMncLimit
                         - 1009: ConsumerMccMncLimit
                         - 1010: NoSupplier
                         - 1011: Black Number
                         - 1012: Sensitive Words
                         - 1013: Daliy Limit
                         - 1014: DestinationMccMncLimit
                         - 1016: SMS Template Limit
                         - 1017: SupplierNoBalance
                         - 1018: UserProfitLimit
                         - 1019: ChannelProfitLimit
                         - 1020: MccNumberLengthLimit
                         - 1021: Job not found
                         - 1022: China SMS Limit
                     example: 0
                   success:
                     type: int
                     description: The number of send successful
                     example: 1
                   fail:
                     type: int
                     description: The number of send failure
                     example: 1
                   unsent:
                     type: int
                     description: The number of unsend 
                     example: 0
                   sending:
                     type: int
                     description: The number of sending
                     example: 0
                   deliverSuc:
                     type: int
                     description: The number of deliver success
                     example: 1
                   deliverFail:
                     type: int
                     description: The number of deliver failure
                     example: 0
                   deliverTimeout:
                     type: int
                     description: The number of deliver timeout
                     example: 1
                   notfound:
                     type: int
                     description: The number of deliver timeout
                     example: 0
                   array:
                     type: array
                     description: >-
                         An array of SMS sending results.The array contains the following fields in sequence: `Status query I` (numeric), `phone number` (string), `send time` (numeric), `send status` (numeric), `deliver time` (numeric), `deliver status` (numeric)
                         
                         
                         Send Status: 
                           - 0 sent successfully
                           - 1: unsent
                           - 2: sending
                           - Non: sending failure.
                           
                           
                         Deliver status:
                           - 0: no reporting required
                           - 1: sent but not yet delivered
                           - 2: deliver failure
                           - 3: deliver success
                           - 4: deliver timeout
                           - 5: other unknown status
                     items:
                       type: array
                       items:
                         oneOf:
                           - type: int
                           - type: string
                     example: 
                       - [1, "10010", 20171001123015, 0, 0, 0]
                       - [2, "1008611", 20171001123015, 0, 20171001123025, 3]
          headers: {}
      security: []
  http://ip:20003/getsms:
    get:
      summary: Get SMS
      deprecated: false
      description: >-
        Supports querying received SMS messages via HTTP GET requests. A single GET request can retrieve up to 50 received messages
      parameters:
        - name: version
          in: query
          description: Protocol version number
          schema:
            type: string
            default: '1.0'
        - name: account
          in: query
          description: Account
          required: true
          schema:
            type: string
        - name: password
          in: query
          description: Password
          required: true
          schema:
            type: string
        - name: seq
          in: query
          description: >-
            Serial number，increments per request，the initial value is 1.
           
           
            **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: time
          in: query
          description: >-
             The timestamp form which the request was mode. 
          
          
              **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: start_time
          in: query
          description: >-
             Start time stamp for the query
          schema:
            type: int
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              example:
                {"status":0, "cnt":2, "array":[[1,"10010","123456",20171001123015, "5bCK5pWs55qE5a6i5oi377yM5oKo5b2T5YmN6K+d6LS55L2Z6aKdNDEuMDHlhYPvvIzlrp7ml7bor53otLkxMi4yMOWFg+OAgg=="],[2,"1008611","123456",20171001123015, "5oKo5aW9"]]}
              schema:
                type: object
                required:
                  - status
                  - cnt
                  - array
                properties:
                   status:
                     type: int
                     description: >-
                        Send submission status, code and details:
                         - 0: query success
                         - 1: authentication error
                         - 2: Ip limited access
                         - 3: SMS contain sensitive characters
                         - 4: SMS contain is empty
                         - 5: SMS contain is too long
                         - 6: Not a template SMS
                         - 7: Over number
                         - 8: number is empty
                         - 9: Abnormal number
                         - 10: The channel balance is insufficient to satisfy this transmission
                         - 11: The time is wrong
                         - 12: Because of the platform , batch commit error,please contact the administrator
                         - 13: User locked
                   cnt:
                     type: int
                     description: receive SMS number of Query (a get request is not more than 50)
                   array:
                     type: array
                     description: >-
                         Receive SMS number of Query (a get request is not more than 50)
                         
                         
                         This array contains the following fields in sequence: `ID` (unique system ID), `sender number`, `recipient number`, `delivery time`, `SMS content`.
                         
                         
                         Note: **SMS content requires Base64 decoding to obtain the correct UTF-8 encoded message.** 
                         If two messages with identical IDs are received, they are treated as duplicate delivery records.  
                         
                         
                         Once a customer queries a delivered message, subsequent queries will no longer return duplicate results.    
          headers: {}
      security: []
  http://ip:20003/get_online_numbers:
    get:
      summary: Get Online Numbers
      deprecated: false
      description: >-
        Supports HTTP GET requests to query the available online numbers for this account on the system.
      parameters:
        - name: version
          in: query
          description: Protocol version number
          schema:
            type: string
            default: '1.0'
        - name: account
          in: query
          description: Account
          required: true
          schema:
            type: string
        - name: password
          in: query
          description: Password
          required: true
          schema:
            type: string
        - name: seq
          in: query
          description: >-
            Serial number，increments per request，the initial value is 1.
           
           
            **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: time
          in: query
          description: >-
             The timestamp form which the request was mode. 
          
          
              **Must be filled when the server requires encryption**
          schema:
            type: string
        - name: cnt
          in: query
          description: >-
             Number of numbers to attempt to retrieve. If omitted, returns all numbers. If present, randomly returns the specified count of numbers 
          schema:
            type: int
        - name: mcc
          in: query
          required: true
          description: Attempt to retrieve numbers with specified MCC (Mobile Country Code)
          schema:
            type: int
        - name: mnc
          in: query
          required: true
          description: Attempt to retrieve numbers with specified MNC (Mobile Network Code)
          schema:
            type: int
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: object
                required:
                  - status
                  - cnt
                  - array
                properties:
                   status:
                     type: int
                     description: >-
                        Send submission status, code and details:
                         - 0: Success
                         - Others: Failure
                     example: 0
                   cnt:
                     type: int
                     description: Number of numbers retrieved 
                     example: 2
                   array:
                     type: array
                     description: >-
                         Array of  phone numbers. Each element contains `simid`, `mcc`, `mnc`, and `number`
                     example:
                     items:
                       type: array
                       items:
                        type: object
                        properties:
                          smsid:
                            type: int
                            description: SIM ID
                          mcc:
                            type: int
                            description: Attempt to retrieve numbers with specified MCC (Mobile Country Code)
                          mnc: 
                            type: int
                            description: Attempt to retrieve numbers with specified MNC (Mobile Network Code)
                          number:
                            type: int
                            description: Phone number
          headers: {}
      security: []
  Configuration of a sms report push URL for each consumer account:
    post:
      summary: Actively Push Received SMS to Customer URL(V2.0) 
      deprecated: false
      description: >-
        The system allows configuration of a report push URL for each consumer account. When the system receives an SMS, it will proactively push the received message to the configured URL via a POST request
      requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                    const: recvsms
                    description: The string type of the message
                  cnt:
                    type: int
                    description: The number of reports included in this push (no more than 50 more than one request)
                  ver:
                    type: string
                    description: Report version
                    default: V2.0
                  smsArray:
                    type: array
                    items:
                      type: object
                      required:
                        - user
                        - smsid
                        - receiver
                        - sender
                        - recvTime
                        - recvTimeStamp
                        - sms
                      properties:
                        user:
                          type: string
                          description: Consumer account name
                        smsid:
                          type: int
                          description: Unique SMS ID assigned by the system
                        receiver:
                          type: string
                          description: Recipient number
                        sender:
                          type: string
                          description: Sender number
                        recvTime:
                          type: string
                          description: Timestamp of SMS reception
                        recvTimeStamp:
                          type: int
                          description: UNIX timestamp of SMS reception
                        sms:
                          type: string
                          description: SMS content, encoded in Base 64
                    description: Push detail status report
                required:
                  - type
                  - cnt
                  - ver
                  - smsArray
              examples:
                '1':
                  summary: Push sample
                  value: 
                    type: recvsms
                    ver: V2.0
                    cnt: 1
                    smsArray:
                      - user: test
                        smsid: 1
                        sender: 12345678
                        receiver: 87654321
                        recvTimeStamp: 1744696196
                        recvTime: 20250415_134956
                        sms: dGVzdHNtcw==
          headers: {}
      security: []
      
  Configuration of a mms report push URL for each consumer account:
    post:
      summary: Actively push of received MMS to customer URL 
      deprecated: false
      description: >-
        The system can be configured with a callback URL for consumers to receive delivery reports. Upon receiving an MMS, the system will actively push the received message to the consumer’s configured URL using HTTP POST
        
        
        **`mmsbody` must be the first element in the form**
        ![repost](./repostmms.png)
      requestBody:
          content:
            multipart/form-data:
              example:
                {"type":"recvmms","ver":"V2.0","cnt":1,"smsArray":[{"user":"test","smsid":1,"title":"test_title","sender":"12345678","receiver":"87654321","recvTimeStamp":1744696196,"recvTime":"20250415_134956","sms":"dGVzdHNtcw=="}]}  
              schema:
                type: object   
                properties:
                  mmsbody:
                    type: string
                    description: >-
                      JSON message format:
                        - type: string, the string type of the message, default：“recvmms”
                        - cnt: int, the number of reports included in this push (no more than 50 more than one request)
                        - ver: string, report version, defaul: "V2.0"
                        - smsArray: array, 
                           The array contains: 
                            - 1.user(Consumer account name, string)
                            - 2.Smsid(Unique SMS ID assigned by the system, int)
                            - 3.Title(MMS subject)
                            - 4.Receiver(Recipient number, string)
                            - 5.Sender(Sender number, string)
                            - 6.recvTime(Timestamp of SMS reception, string)
                            - 7.recvTimeStamp(UNIX timestamp of SMS reception, int)
                            - 8.SMS content encoded in Base 64, string)
                  Other form fields represent the MMS attachments:
                    type: file
                    description: >-
                      <span style="font-weight: bold;color: red">Content-Disposition: form-data; filename="filename"</span>
                      
                      
                      <span style="font-weight: bold;color: red">File naming format: MD5 value of file content.file extension</span>
          headers: {}
      security: []
     
  Configuration of a report push URL for each consumer account:
    post:
      summary: Actively the push the report to customers URL (V2.0)
      deprecated: false
      description: >-
        The system allows configuration of a report push URL for each consumer account. 
        After an SMS is sent, the system will actively push the sending result to the specified URL via a POST request. The report content is included in the body of the request in JSON format.
        A maximum of 50 sending reports can be pushed in a single request
        
        
        Note: 
          1. Configure the HTTP reporting version to V2.0 in the consumer user configuration
        
        
          2. Support report push for all HTTP and WEB submissions 
      requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  type:
                    type: string
                    const: report
                    example: report
                    description: The string type of the message
                  cnt:
                    type: int
                    example: 2
                    description: The number of reports included in this push (no more than 50 more than one request) 
                  ver:
                    type: string
                    description: Version
                    default: V1.1
                    example: V2.0
                  array:
                    type: array
                    description: An array of sms sending reports
                    example:
                      - id: 1
                        src: 0
                        number: 1008611
                        submittm: timestamp
                        sendtm: timestamp
                        donetm: timestamp
                        status: 0
                        reason: ""
                      - id: 2
                        src: 1
                        number: 10011
                        submittm: timestamp
                        sendtm: timestamp
                        donetm: timestamp
                        status: 0
                        reason: ""
                    items:
                      type: object
                      items:
                      properties:
                        id:
                          type: int
                          description: The ID of the SMS, a unique flag for the system
                        src:
                          type: int
                          description: >-
                            Port source:
                             - 0:http submission
                             - 1:web submission
                        number:
                          type: string
                          description: Recipient
                        submittm:
                          type: int
                          description: The timestamp of submissions
                        sendtm:
                          type: int
                          description: The timestamp of the sent SMS
                        donetm:
                          type: int
                          description: The timestamp of completion
                        status:
                          type: int
                          description: Send the result, 0 means success, non-zero fails
                        reason:
                          type: string
                          description: The reason for the failure
                required:
                  - type
                  - cnt
                  - ver
                  - array
          headers: {}
      security: []
  http://ip:20003/smsjob:
    post:
      summary: Create a SMS task to send message
      deprecated: false
      description: >-
        Support HTTP POST to create the task of sending SMS
        
        
        Body sample:
         - 1.Create an immediately sms task, the number is put on the number field.
        
        
        body:
        
        
        {"account":"chenkc","password":"123456","job":"job_with_number","numbersrc":0,"numbers":"123456,3444,54535","content":"test"}
         - 2.Create an immediately sms task, the number field holds the URL of a number field.
        
        
        body:{"account":"chenkc","password":"123456","job":"job_with_number","numbersrc":1,"numbers":"http://ip:port/sms.xls","content":"test"}
        
        
         - 3.Create cycle of 10 sms task that trigger at 9am each day, the number fields holds the URL of a number field.
        
        
        body:{"account":"chenkc","password":"123456","job":"job_with_number","jobtype":3,"period":10,"hour":9,"min":0,"numbersrc":1,"numbers":"http://ip:port/sms.xls","content":"test"}
        
        
        **Note: need to put all the parameter in the body as json, url file only supports xls,nonsupport xlsx**
      requestBody:
          content:
            application/json:
              example: 
                {"account":"chenkc","password":"123456","job":"job_with_number","numbersrc":0,"numbers":"123456,3444,54535","content":"test"}
              schema:
                type: object
                required: 
                  - account
                  - password
                  - job
                  - content
                  - numbers
                  - numbersrc
                properties:
                  version:
                    type: string
                    description: Protocol version number
                    default: '1.0'
                  account:
                    type: string
                    description: Accounts
                  password:
                    type: string
                    description: Password
                  seq:
                    type: int
                    description: >-
                      Serial number: incrementing per request. The initial value is 1
                      
                      
                       **Must be filled when the server requires encryption**
                  time:
                    type: int
                    description: >- 
                      The timestamp of the request initiation
                      
                      
                       **Must be filled when the server requires encryption**
                  job:
                    type: string
                    description: Task name
                  jobtype:
                    type: int
                    default: 0
                    description: >-
                      Task type:
                        - 0: immediately
                        - 1: timing
                        - 2: interval
                        - 3: daily
                        - 4: weekly
                        - 5: monthly
                  period:
                    type: int
                    description: >-
                      The number of cycles of a periodic task
                      
                      This calue only takes effect if the task type is greater than 2
                      
                      
                      The default number of cycles for a periodic task is 1+ - both the period and the scheduled end time are empty
                  interval:
                    type: int
                    description: >-
                      How often does an interval trigger an interval task
                      
                      
                      When the task is 2 interval,It is required time unit: minutes
                  min:
                    type: int
                    description: >-
                      Minutes. Value range: 0-59. Compulsory items for tasks of type 2-5
                  hour:
                    type: int
                    description: >-
                      Hour. Value range: 0-23. Compulsory items for tasks of type 2-5
                  day:
                    type: int
                    description: >-
                      Day. Value range:1-31. Compulsory items for tasks of type 2,3 and 5
                  week:
                    type: int
                    description: >-
                      Week. Value range:1-7. Compulsory items for tasks of type 4
                  mon:
                    type: int
                    description: >-
                      Month. Value range:1-12. Compulsory items for tasks of type 5
                  planstarttm:
                    type: int
                    description: >-
                      Scheduled to send a timestamp. Null mean to send immediately
                  planendtm:
                    type: int
                    description: Scheduled end timestamp
                  retry:
                    type: int
                    description: >-
                      The maxmum number of retry messages sent failed. Default 0 does not resend
                  flash:
                    type: int
                    description: >-
                      Is it a flash message:
                        - 0: No
                        - 1: Yes
                  content:
                    type: string
                    description: Global SMS content
                  numbersrc:
                    type: int
                    description: >-
                      Source number:
                        - 0: Numbers field is number
                        - 1: Numbers is a URL(file only support xls, non-support xlsx)
                  numbers:
                    type: string
                    description: >-
                      Receive number for SMS:
                        - The length not exceeding 4*1024
                        - Multiple numbers are separated by English commas
                  senderId:
                    type: string
                    description: The sender ID of the task
                  smstype:
                    type: int
                    description: >-
                      SMS type:
                        - 0: SMS
                        - 1: MMS
                    default: 0
                  mmstitle:
                    type: string
                    description: MMS title. Required when the message type is MMS
      responses:
        '200':
          description: 'OK'
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: integer
                    description: >-
                      Query request status 
                       - 0：Query success 
                       - 1：Authentication error 
                       - 2：IP limited access 
                       - 3：SMS contain sensitive characters 
                       - 4：SMS contain is empty 
                       - 5：SMS contain is too long 
                       - 6：Not a template SMS 
                       - 7：Over number 
                       - 8：Number is empty 
                       - 9：Abnormal number 
                       - 10：The channel balance is insufficient to satisfy this transmission 
                       - 11：The timing is wrong 
                       - 12：Because of the platform, batch commit error, please contact the administrator 
                       - 13: User locked 
                       - 15：task name abnormal，null or length greater than 64
                       - 16：the SMS task type is abnormal
                       - 17：others mistake
                  jobid:
                    type: int
                    description: The ID value of the task was successfully created
                  
                required:
                  - status
                  - jobid

              examples:
                '1':
                  summary: Successful instance
                  value:
                    status: 0
                    jobid: 2
          headers: {}
      security: []